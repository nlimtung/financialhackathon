
{% extends 'base.html' %}
{% block content %}
{% load mathfilters %}


    <div class = 'detail'>

        <h1>{{ habit.item }}</h1>
        <div class = "details-image" style="background-image: url({{habit.goal_image.url}})"></div>
        
        <!-- 100% badge -->
        {% if  habit.completed_goal == True %}
            <div class = "completebadge"></div>
        {% endif %}

    <div id="allsmallbadges">
        <!-- 25% -->
        {% if  habit.quarter_goal == True %}
            <div id="smallbadges"class = "quarter_badge"></div>
        {% endif %}
        
        <!-- 50 -->
        {% if  habit.half_goal == True %}
            <div id="smallbadges"class = "half_badge"></div>
        {% endif %}

        <!-- 75 -->
        {% if  habit.three_quarter_goal == True %}
            <div id="smallbadges"class = "three_quarter_badge"></div>
        {% endif %}
    
        <br/>
    </div>

    <div>
        <!--100%-->
        {% if  habit.completed_goal == True %}
        <div class="progress">
            <div class="progress-bar progress-bar-striped bg-info" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
        </div>  
        <!--90%--> 
        {% elif  habit.ninety_goal == True %}
        <div class="progress">
            <div class="progress-bar progress-bar-striped bg-info" role="progressbar" style="width: 90%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
        </div>  
        <!--80%--> 
        {% elif  habit.eighty_goal == True %}
        <div class="progress">
            <div class="progress-bar progress-bar-striped bg-info" role="progressbar" style="width: 80%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
        </div>  
        <!--75%--> 
        {% elif  habit.three_quarter_goal == True %}
        <div class="progress">
            <div class="progress-bar progress-bar-striped bg-info" role="progressbar" style="width: 75%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
        </div>  
        <!--70%--> 
        {% elif  habit.seventy_goal == True %}
        <div class="progress">
            <div class="progress-bar progress-bar-striped bg-info" role="progressbar" style="width: 70%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
        <!--60%--> 
        {% elif  habit.sixty_goal == True %}
        <div class="progress">
            <div class="progress-bar progress-bar-striped bg-info" role="progressbar" style="width: 60%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
        </div>  
         <!-- 50 -->
         {% elif  habit.half_goal == True %}
         <div class="progress">
             <div class="progress-bar progress-bar-striped bg-info" role="progressbar" style="width: 50%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
         </div> 
        <!--40%--> 
        {% elif  habit.forty_goal == True %}
        <div class="progress">
            <div class="progress-bar progress-bar-striped bg-info" role="progressbar" style="width: 40%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
        <!--30%--> 
        {% elif  habit.thirty_goal == True %}
        <div class="progress">
            <div class="progress-bar progress-bar-striped bg-info" role="progressbar" style="width: 30%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
        </div>          
        <!-- 25% -->
        {% elif  habit.quarter_goal == True %}
        <div class="progress">
            <div class="progress-bar progress-bar-striped bg-info" role="progressbar" style="width: 25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
        <!--20%--> 
        {% elif  habit.twenty_goal == True %}
        <div class="progress">
            <div class="progress-bar progress-bar-striped bg-info" role="progressbar" style="width: 20%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
        <!--10%--> 
        {% elif  habit.ten_goal == True %}
        <div class="progress">
            <div class="progress-bar progress-bar-striped bg-info" role="progressbar" style="width: 10%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
        </div>    
        {% else %}
        <div class="progress">
            <div class="progress-bar progress-bar-striped bg-info" role="progressbar" style="width: 0%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
        {% endif %}
        

    </div>
    {% if  habit.completed_goal == True %}


    <table>
        <tr>
            <td>Total Amount: </td>
            <td>${{ habit.initial_item_cost}}</td>
        </tr>
        <tr>
            <th>&nbsp </th>
            <th>&nbsp </th>
        </tr>
        <tr>
            <td>Habit:</td>
            <td>{{ habit.habit_item }}</td>
        </tr>
        <tr>
            <td>Habit cost:</td>
            <td>${{ habit.habit_cost }}</td>
        </tr>
    </table>
    <p class = "detail-sentence"> You've saved <span>{{habit.click_count}}</span> {{habit.habit_item}}s </br> when you reached your {{habit.item}}</p>



    {% else %}

        <table>
            <tr>
                <td>Habit: </td>
                <td>{{ habit.habit_item }}</td>
            </tr>
            <tr>
                <td>Cost per Saving:</td>
                <td>${{ habit.habit_cost }}</td>
            </tr>
            <tr>
                <th>&nbsp </th>
                <th>&nbsp </th>
            </tr>
            <tr>
                <th>Saved Money </th>
                <th>${{habit.total_saved}}</th>
            </tr>
            <tr>
                {% if habit.item_cost < 0 %}

                <td>Goal reached in </td>
                <td>$0.0 </td>

            {% else %}
                <td>Goal reached in</td>
                <td>${{ habit.item_cost }}</td>

            {% endif %}
            </tr>
            <tr>
                <td>Total amount: </td>
                <td>${{ habit.initial_item_cost}}</td>
                <p>{{habit.random_message}}</p>
            </tr>
        </table>

        <p class = "detail-sentence"> You've saved <span>{{habit.click_count}}</span> {{habit.habit_item}}s </br> on your way to your {{habit.item}}</p>

        {% endif %}


        <div class = "detail_button">
            <a href="{% url 'habit_update' habit.id %}"> <button id = "blue_button"class="btn" >I saved for this Today </button></a> </br>
            <a href="{% url 'habit_delete' habit.id %}" class="btn btn-danger">Abandon Goal</a>
        </div>
    </div>




{% endblock %}